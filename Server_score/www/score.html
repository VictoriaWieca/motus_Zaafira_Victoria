<!DOCTYPE html>
<html>
    <head>
        <style>
            table,
            th,
            td {
                padding: 10px;
                border: 1px solid black;
                border-collapse: collapse;
            }
        </style>
    </head>


  <body>
    <script TYPE="text/javascript" src="https://code.jquery.com/jquery-3.6.1.min.js"
    crossorigin="anonymous">
    </script>


    <br><a href="http://localhost:3000/index.html">Retour au Motus</a><br><br>


    <table>
        <thead>
            <tr>
                <th>Info</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Nb Word(s) found</td>
                <td><span id="myScore"></span></td>
            </tr>
            <tr>
                <td>Average try</td>
                <td id="myAverage"></td>
            </tr>
        </tbody>
    </table>


    <script>
        var score='';
        var nbTriesArray= [];
        
        $.get("/score", function( data ) {
            score = data.new_score;
            nbTriesArray = data.nb_tries;
            console.log(`testtttttt ${score}, ${nbTriesArray}`);
            // Read data
            if (score=='')
                $("#myScore").html(0);
            else
                $("#myScore").html(score);


            // Read data
            //myAverage = JSON.parse(localStorage.getItem("nbTriesArray"));
            if (nbTriesArray=='')
                $("#myAverage").html(0);
            else
                $("#myAverage").html(ArrayAvg(nbTriesArray));
            console.log(nbTriesArray);
        });
        
        function ArrayAvg(myArray) {
        if (myArray==null){
            return 0;
        }
          var i = 0, summ = 0, ArrayLen = myArray.length;
          while (i < ArrayLen) {
              summ = summ + parseInt(myArray[i++]);
              console.log(summ);
          }
          return summ / ArrayLen;
        }
        

        
    </script>
    
  </body>
</html>